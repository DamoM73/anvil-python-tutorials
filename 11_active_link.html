<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Adding Users" href="12_add_users.html" /><link rel="prev" title="Adjust Page Title" href="10_adjust_title.html" />

    <link rel="shortcut icon" href="_static/logo.ico"/><!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>Show Active Link - StudyM8</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=4476ed65" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">StudyM8</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">StudyM8</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_web_intro.html">How websites work</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_studyM8_design.html">StudyM8 design</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_create_app.html">Create new app</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_anvil_interface.html">Anvil Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_create_home_form.html">Create the Main Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_create_components.html">Adding Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_connect_links.html">Connecting links</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_set_start_component.html">Set the Initial Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_adjust_title.html">Adjust Page Title</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Show Active Link</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_add_users.html">Adding Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_user_features.html">User Management Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="14_account_links_visiability.html">Account Links Visibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_set_details.html">SetDetailsComponent Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="15a_set_details_code.html">SetDetailsComponent Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_user_service.html">User Server Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="17_set_details_nav.html">SetDetailsComponent Navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="18_account_cmpt.html">AccountComponent Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="18a_account_code.html">AccountComponent Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="19_switch_components.html">Switch Component Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="20_complete_account_cmpt.html">Complete Account Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="21_assessment_table.html">The Assessments Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="22_add_component.html">AddComponent Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="22a_add_component_code.html">AddComponent Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="23_assessment_service.html">Assessment Service Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="24_restrict_accessibility.html">Prevent Unauthorised Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="25_home_user_cmpt.html">HomeComponent Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="25a_home_component_code.html">HomeComponent Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="26_complete_assessment.html">Complete Assessments</a></li>
<li class="toctree-l1"><a class="reference internal" href="26a_adjust_assessment_display.html">Adjust Assessments Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="27_edit_assessment.html">Edit Assessments Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="27a_edit_assessment_code.html">Edit Assessments Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="28_calendar_cmpt.html">CalendarComponent Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="28a_calendar_cmpt_code.html">CalendarComponent Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="29_welcome.html">Welcome Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="30_optimisation.html">Optimisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="31_remote_database.html">Reduce Remote Database Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="32_logout_func.html">Create Logout Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="33_update_user_func.html">Create Update User Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="34_my_assess_func.html">My Assessments Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="34a_get_chart_func.html">Get Chart Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="35_local_database.html">Reduce Local Database Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="98_resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_topics.html">Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="licencing.html">Licensing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/11_active_link.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="show-active-link">
<h1>Show Active Link<a class="headerlink" href="#show-active-link" title="Link to this heading">¶</a></h1>
<aside class="topic">
<p class="topic-title">In this tutorial you will:</p>
<ul class="simple">
<li><p>Understand how to change a link’s role to indicate it is selected.</p></li>
<li><p>Apply roles using CSS classes for custom styling.</p></li>
<li><p>Implement state machines to manage component states.</p></li>
<li><p>Write efficient, non-repetitive code using the DRY principle.</p></li>
<li><p>Test links to ensure proper highlighting based on component load states.</p></li>
</ul>
</aside>
<p>In Material Design, we show active links to enhance the user experience and navigation. Highlighting active links provides users with a visual feedback indicating their current location within the website or application, offering a sense of context and orientation. Our website does not use active links, an issue that we will address in this tutorial.</p>
<section id="changing-link-s-roles">
<h2>Changing link’s roles<a class="headerlink" href="#changing-link-s-roles" title="Link to this heading">¶</a></h2>
<p>In Anvil, links can have a <strong>selected role</strong>. This changes the formatting of the link to differentiate it from non-selected links. It is the formatting that is uses when the mouse cursor moves over a link.</p>
<p><img alt="selected links" src="_images/selected_links.gif" /></p>
<div class="note admonition">
<p class="admonition-title">Roles</p>
<p>In Anvil, roles are used to apply specific CSS classes to components, allowing for customized styling and behavior. This makes it easy to target and style components using CSS, ensuring a consistent and manageable way to apply custom designs across your application</p>
</div>
<p>We want to use the <strong>selected role</strong> on the Home, Calendar and Add links, but only when their components are loaded. Each link has a property called <code class="docutils literal notranslate"><span class="pre">role</span></code>, so we need to set this value accordingly.</p>
<section id="role-values-for-given-state">
<h3>Role values for given state<a class="headerlink" href="#role-values-for-given-state" title="Link to this heading">¶</a></h3>
<p>To achieve this we are going to change the links role values according to the <strong>state</strong> of the website.</p>
<div class="note admonition">
<p class="admonition-title">State Machine</p>
<p>A state machine is a way to design programs by breaking it down into different conditions called states. Each state represents a specific situation the program can be in. The program can switch from one state to another based on inputs or events. These switches are called transitions.</p>
<p>A state machine makes it easier to manage complex behaviors by clearly defining what the system should do in each state and how it moves between states.</p>
</div>
<section id="link-state-logic-table">
<h4>Link State Logic table<a class="headerlink" href="#link-state-logic-table" title="Link to this heading">¶</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>State</p></th>
<th class="head text-center"><p>link_home.role</p></th>
<th class="head text-center"><p>link_calendar.role</p></th>
<th class="head text-center"><p>link_add.role</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>HomeComponent loaded</p></td>
<td class="text-center"><p>selected</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>None</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>CalendarComponent loaded</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>selected</p></td>
<td class="text-center"><p>None</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>AddComponent loaded</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>selected</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>AccountComponent loaded</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>None</p></td>
<td class="text-center"><p>None</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>
<section id="code">
<h2>Code<a class="headerlink" href="#code" title="Link to this heading">¶</a></h2>
<p>The events that will change the website’s state are the clicking of links, so we could put the code in the event handlers. But that will require changing the link_home, link_calendar and link_add roles in each of the event handlers. This repetition of code violates the <strong>DRY principle</strong>.</p>
<div class="note admonition">
<p class="admonition-title">DRY principle</p>
<p>The DRY (Don’t Repeat Yourself) principle in programming means that you should avoid writing the same code more than once. Instead, you write your code in a way that lets you use it in multiple places without copying and pasting it. This makes your code cleaner, easier to understand, and easier to change. If you need to update something, you only have to do it in one place, and it will automatically update everywhere else it’s used.</p>
</div>
<p>Instead we will create a seperate method that get called by each handler. When the handler calls the method, it will need to pass the state of the website.</p>
<p>Open the MainForm in code mode.</p>
<p>Lets place this method after the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and before the link handlers, also add a structure comment identifying the link handlers.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">18</span>  <span class="k">def</span><span class="w"> </span><span class="nf">set_active_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">19</span>    <span class="k">pass</span>
</span><span class="linenos">20</span>  
<span class="hll"><span class="linenos">21</span>  <span class="c1"># --- link handlers</span>
</span><span class="linenos">22</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_home_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
</pre></div>
</div>
<div class="notice admonition">
<p class="admonition-title">Code explaination</p>
<ul class="simple">
<li><p><strong>line 18</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">set_active_link</span></code> → names the new method <strong>set_active_link</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code> → makes the method callable from within MainForm</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code> → expects the state of the website to be passed when called (this will be a string)</p></li>
</ul>
</li>
<li><p><strong>line 19</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pass</span></code> → a placeholder that get replaced with our code.</p></li>
</ul>
</li>
<li><p><strong>line 21</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">---</span> <span class="pre">link</span> <span class="pre">handlers</span></code> → structural comment to help organise the code.</p></li>
</ul>
</li>
</ul>
</div>
<p>Now we will add the logic, which will be three <code class="docutils literal notranslate"><span class="pre">if</span></code> statements, one for each of the links. These <code class="docutils literal notranslate"><span class="pre">if</span></code> statements will follow the logic in our table above. We will identify the state of the machine by passing the following strings:</p>
<ul class="simple">
<li><p>HomeComponent → <code class="docutils literal notranslate"><span class="pre">&quot;home&quot;</span></code></p></li>
<li><p>CalendarComponent → <code class="docutils literal notranslate"><span class="pre">&quot;calendar&quot;</span></code></p></li>
<li><p>AddComponent → <code class="docutils literal notranslate"><span class="pre">&quot;add&quot;</span></code></p></li>
<li><p>AccountComponent → <code class="docutils literal notranslate"><span class="pre">&quot;account&quot;</span></code></p></li>
</ul>
<section id="home-link">
<h3>Home link<a class="headerlink" href="#home-link" title="Link to this heading">¶</a></h3>
<p>First we’ll do the home link.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">18</span>  <span class="k">def</span><span class="w"> </span><span class="nf">set_active_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="hll"><span class="linenos">19</span>    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;home&quot;</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">20</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_home</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="s2">&quot;selected&quot;</span>
</span><span class="hll"><span class="linenos">21</span>    <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">22</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_home</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>
</div>
<div class="notice admonition">
<p class="admonition-title">Code explaination</p>
<ul class="simple">
<li><p><strong>line 19</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">state</span> <span class="pre">==</span> <span class="pre">&quot;home&quot;:</span></code> → checks to see if <strong>“home”</strong> was passed as the state.</p></li>
</ul>
</li>
<li><p><strong>line 20</strong> (only executed if state is <strong>“home”</strong>):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self.link_home.role</span> <span class="pre">=</span> <span class="pre">&quot;selected&quot;</span></code> → changes the role (formatting) of home link to <strong>selected</strong></p></li>
</ul>
</li>
<li><p><strong>line 22</strong> (executed if the state is anything other than <strong>“home”</strong>)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self.link_home.role</span> <span class="pre">=</span> <span class="pre">None</span></code> → changes the role (formatting) of home link back to the deselected (<strong>None</strong>)</p></li>
</ul>
</li>
</ul>
</div>
<p>Now we need to call <code class="docutils literal notranslate"><span class="pre">set_active_link</span></code> from the <code class="docutils literal notranslate"><span class="pre">link_home_click</span></code> event handler.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">33</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_home_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
<span class="linenos">34</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">35</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">HomeComponent</span><span class="p">())</span>
<span class="linenos">36</span>    <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span>
<span class="hll"><span class="linenos">37</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
<div class="notice admonition">
<p class="admonition-title">Code explaination</p>
<ul class="simple">
<li><p><strong>line 37</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self.set_active_link(&quot;home&quot;)</span></code> → call the <strong>set_active_link</strong> method and pass the state <strong>“home”</strong></p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="test-home-link">
<h3>Test home link<a class="headerlink" href="#test-home-link" title="Link to this heading">¶</a></h3>
<p>Launch your website and check if the Home link remains lighlighted once you click it.</p>
<p><img alt="home test" src="_images/home_test.gif" /></p>
</section>
<section id="calendar-and-add-links">
<h3>Calendar and Add links<a class="headerlink" href="#calendar-and-add-links" title="Link to this heading">¶</a></h3>
<p>Now your turn. Do the same for the <strong>Calendar</strong> link and <strong>Add</strong> link. Below is what your test should look like.</p>
<p><img alt="Calendar and add test" src="_images/cal_add_test.gif" /></p>
<p>Notice that clicking on the Account link didn’t deselect the other link? Lets fix that</p>
</section>
<section id="account-link">
<h3>Account link<a class="headerlink" href="#account-link" title="Link to this heading">¶</a></h3>
<p>The Account link is a little different to the others. We don’t want to set it to selected, just deselect the other links. Look at the <strong>set_active_link</strong> method, the code is designed that if the link’s state is not passed, it will be deselected. So we can pass a state of <strong>“account”</strong> and all links will be deselected.</p>
<p>So, in the <strong>link_account_click</strong> handler call the <strong>set_active_link</strong> method and pass <strong>“account”</strong> as the state.</p>
<p>Now launch your website and check if the account link deselects the other links.</p>
<p><img alt="account test" src="_images/account_test.gif" /></p>
</section>
<section id="initial-component">
<h3>Initial Component<a class="headerlink" href="#initial-component" title="Link to this heading">¶</a></h3>
<p>In the lastest test you can notice that the <strong>Home</strong> link is not selected when the website launches. This is a simple fix.</p>
<p>Go to the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and add a call to <strong>set_active_link</strong> just after you add the <strong>HomeComponent</strong>.</p>
</section>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h2>
<p>Test your website. Check that the Home link is selected when it load. then click on all four links we have worked on:</p>
<ul class="simple">
<li><p>Home</p></li>
<li><p>Calendar</p></li>
<li><p>Add</p></li>
<li><p>Account</p></li>
</ul>
<p>Did they all act as expected?</p>
<p><img alt="final test" src="_images/final_test.gif" /></p>
</section>
<section id="final-code-state">
<h2>Final code state<a class="headerlink" href="#final-code-state" title="Link to this heading">¶</a></h2>
<p>By the end of this tutorial your code should be the same as below:</p>
<section id="final-mainform">
<h3>Final MainForm<a class="headerlink" href="#final-mainform" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">._anvil_designer</span><span class="w"> </span><span class="kn">import</span> <span class="n">MainFormTemplate</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">anvil</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">..HomeComponent</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomeComponent</span>
<span class="linenos"> 4</span><span class="kn">from</span><span class="w"> </span><span class="nn">..CalendarComponent</span><span class="w"> </span><span class="kn">import</span> <span class="n">CalendarComponent</span>
<span class="linenos"> 5</span><span class="kn">from</span><span class="w"> </span><span class="nn">..AddComponent</span><span class="w"> </span><span class="kn">import</span> <span class="n">AddComponent</span>
<span class="linenos"> 6</span><span class="kn">from</span><span class="w"> </span><span class="nn">..AccountComponent</span><span class="w"> </span><span class="kn">import</span> <span class="n">AccountComponent</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">class</span><span class="w"> </span><span class="nc">MainForm</span><span class="p">(</span><span class="n">MainFormTemplate</span><span class="p">):</span>
<span class="linenos">10</span>  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">properties</span><span class="p">):</span>
<span class="linenos">11</span>    <span class="c1"># Set Form properties and Data Bindings.</span>
<span class="linenos">12</span>    <span class="bp">self</span><span class="o">.</span><span class="n">init_components</span><span class="p">(</span><span class="o">**</span><span class="n">properties</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span>
<span class="linenos">14</span>
<span class="linenos">15</span>    <span class="c1"># Any code you write here will run before the form opens.</span>
<span class="linenos">16</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">HomeComponent</span><span class="p">())</span>
<span class="linenos">17</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span>  <span class="k">def</span><span class="w"> </span><span class="nf">set_active_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="linenos">20</span>    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;home&quot;</span><span class="p">:</span>
<span class="linenos">21</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_home</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="s2">&quot;selected&quot;</span>
<span class="linenos">22</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">23</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_home</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">24</span>    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;add&quot;</span><span class="p">:</span>
<span class="linenos">25</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_add</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="s2">&quot;selected&quot;</span>
<span class="linenos">26</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">27</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_add</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">28</span>    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;calendar&quot;</span><span class="p">:</span>
<span class="linenos">29</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_calendar</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="s2">&quot;selected&quot;</span>
<span class="linenos">30</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">31</span>      <span class="bp">self</span><span class="o">.</span><span class="n">link_calendar</span><span class="o">.</span><span class="n">role</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">32</span>  
<span class="linenos">33</span>  <span class="c1"># --- link handlers</span>
<span class="linenos">34</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_home_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
<span class="linenos">35</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">36</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">HomeComponent</span><span class="p">())</span>
<span class="linenos">37</span>    <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span>
<span class="linenos">38</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">)</span>
<span class="linenos">39</span>
<span class="linenos">40</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_calendar_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
<span class="linenos">41</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">42</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">CalendarComponent</span><span class="p">())</span>
<span class="linenos">43</span>    <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span> <span class="o">+</span> <span class="s2">&quot; - Calendar&quot;</span>
<span class="linenos">44</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">(</span><span class="s2">&quot;calendar&quot;</span><span class="p">)</span>
<span class="linenos">45</span>
<span class="linenos">46</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_add_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
<span class="linenos">47</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">48</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">AddComponent</span><span class="p">())</span>
<span class="linenos">49</span>    <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span> <span class="o">+</span> <span class="s2">&quot; - Add&quot;</span>
<span class="linenos">50</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">)</span>
<span class="linenos">51</span>
<span class="linenos">52</span>  <span class="k">def</span><span class="w"> </span><span class="nf">link_account_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">event_args</span><span class="p">):</span>
<span class="linenos">53</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;This method is called when the link is clicked&quot;&quot;&quot;</span>
<span class="linenos">54</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">55</span>    <span class="bp">self</span><span class="o">.</span><span class="n">content_panel</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">AccountComponent</span><span class="p">())</span>
<span class="linenos">56</span>    <span class="bp">self</span><span class="o">.</span><span class="n">label_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">breadcrumb_stem</span> <span class="o">+</span> <span class="s2">&quot; - Account&quot;</span>
<span class="linenos">57</span>    <span class="bp">self</span><span class="o">.</span><span class="n">set_active_link</span><span class="p">((</span><span class="s2">&quot;account&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="12_add_users.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Adding Users</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="10_adjust_title.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Adjust Page Title</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Damien Murtagh
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/anvil-python-tutorials" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Show Active Link</a><ul>
<li><a class="reference internal" href="#changing-link-s-roles">Changing link’s roles</a><ul>
<li><a class="reference internal" href="#role-values-for-given-state">Role values for given state</a><ul>
<li><a class="reference internal" href="#link-state-logic-table">Link State Logic table</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#code">Code</a><ul>
<li><a class="reference internal" href="#home-link">Home link</a></li>
<li><a class="reference internal" href="#test-home-link">Test home link</a></li>
<li><a class="reference internal" href="#calendar-and-add-links">Calendar and Add links</a></li>
<li><a class="reference internal" href="#account-link">Account link</a></li>
<li><a class="reference internal" href="#initial-component">Initial Component</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#final-code-state">Final code state</a><ul>
<li><a class="reference internal" href="#final-mainform">Final MainForm</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=6fefd858"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>